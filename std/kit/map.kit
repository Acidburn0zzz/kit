trait Map[K, V] {
    function exists(key: K): Bool;
    function get(key: K): V;
    function set(key: K, value: V): V;

    rules {
        (this[${key: K}]) => this.get($key);
        (this[${key: K}] = (value: V)) => this.set($key, value);
    }
}
