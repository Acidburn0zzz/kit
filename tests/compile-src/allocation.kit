function calloc_alloc(size: Size) {
    return calloc(1, size);
}

struct MyStruct {
    var a: Int;
    var b: Float;

    public static function new(allocator: function (Size) -> Ptr[Void]): Ptr[MyStruct] {
        return allocator(8) as Ptr[MyStruct];
    }
}

function main() {
    var s1 = using implicit malloc MyStruct.new();
    s1.b = 2.5;
    printf("%.1f\n", s1.b);

    var s2 = using implicit calloc_alloc MyStruct.new();
    s2.b = 4.1;
    printf("%.1f\n", s2.b);
}
